{% extends "./layout/default" %}

{% block breadcrumbs %}
    {{ Breadcrumbs.render }}
{% endblock %}
{% block content %}
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="box box-default">
                <div class="box-header with-border">
                    <h3 class="box-title">{{ 'import_index_title'|_ }}</h3>
                </div>
                <div class="box-body">
                    <p>
                        {{ 'import_general_index_intro'|_ }}
                    </p>
                    <div class="row">
                        {% for name, provider in providers %}
                            {# button for each import thing: #}
                            <div class="col-lg-1 col-md-4 col-sm-6 text-center">
                                <a href="{{ route('import.create', [name]) }}">
                                    <img src="images/logos/{{ name }}.png" alt="{{ ('import_button_'~name)|_ }}"/><br/>
                                    {{ ('import_button_'~name)|_ }}
                                </a>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-4 col-md-12 col-sm-12 col-xs-12">
            <div class="box box-default">
                <div class="box-header with-border">
                    <h3 class="box-title">{{ 'import_global_config_title'|_ }}</h3>
                </div>
                <div class="box-body">
                    <p>
                        {{ 'import_global_config_text'|_ }}
                    </p>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-12 col-sm-12 col-xs-12">
            <div class="box box-default">
                <div class="box-header with-border">
                    <h3 class="box-title">{{ 'import_need_prereq_title'|_ }}</h3>
                </div>
                <div class="box-body">
                    <p>
                        {{ 'import_need_prereq_intro'|_ }}
                    </p>
                    <ul>
                        {% for name, provider in providers %}
                            {% if provider.has_prereq %}
                                <li>
                                    {% if provider.prereq_complete %}
                                        <i class="fa fa-fw fa-check text-success"></i>
                                    {% else %}
                                        <i class="fa fa-fw fa-warning text-danger"></i>
                                    {% endif %}
                                    <a href="#">{{ ('import_do_prereq_'~name)|_ }}</a>
                                </li>
                            {% endif %}
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-12 col-sm-12 col-xs-12">
            <div class="box box-default">
                <div class="box-header with-border">
                    <h3 class="box-title">{{ 'import_need_config_title'|_ }}</h3>
                </div>
                <div class="box-body">
                    <p>
                        {{ 'import_need_config_intro'|_ }}
                    </p>
                    <ul>
                        {% for name, provider in providers %}
                            {% if provider.has_config %}
                                <li><i class="fa fa-fw fa-wrench"></i> <a href="#">{{ ('import_do_config_'~name)|_ }}</a></li>
                            {% endif %}
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!--
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12">
            <div class="box box-default">
                <div class="box-header with-border">
                    <h3 class="box-title">{{ 'reset_import_settings_title'|_ }}</h3>
                </div>
                <div class="box-body">
                    <p>
                        {{ 'reset_import_settings_text'|_ }}
                    </p>
                    <ul>
                        {# bunq import #}
                        {% if routines.bunq == true %}
                            <li><a href="{{ route('import.reset', ['bunq']) }}">{{ 'reset_settings_bunq'|_ }}</a></li>
                        {% endif %}

                        {# import from Spectre #}
                        {% if routines.spectre == true %}
                            <li><a href="{{ route('import.reset', ['spectre']) }}">{{ 'reset_settings_spectre'|_ }}</a></li>
                        {% endif %}

                        {# import from Plaid #}
                        {% if routines.plaid == true %}
                            <li><a href="{{ route('import.reset', ['plaid']) }}">{{ 'reset_settings_plaid'|_ }}</a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </div>
    </div>
    -->
{% endblock %}
{% block scripts %}
{% endblock %}
{% block styles %}
{% endblock %}
